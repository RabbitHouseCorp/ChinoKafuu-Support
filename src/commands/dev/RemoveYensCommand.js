const Command = require("../../structures/command")
module.exports = class RemoveYensCommand extends Command {
    constructor(client) {
        super(client, {
            name: "removeyens",
            aliases: [],
            category: "dev",
            OnlyDevs: true
        })
    }
    
    async run({ message, args, server }, t) {
        if (!args[0]) return message.chinoReply("error", "você precisa colocar o ID do usuário.")
        let member = await this.client.shardManager.getUsers(args[0].replace(/[<@!>]/g, ""))
        if (!member) return message.chinoReply("error", `eu não encontrei um usuário com o ID \`${args[0]}\`.`)
        let user = await this.client.database.Users.findById(args[0].replace(/[<@!>]/g, ""))
        if (!args[1]) return message.chinoReply("error", "você não colocou a quantia que quer remover.")

        user.yens = user.yens - args[1]
        user.save()
        
        message.chinoReply("success", `certo, eu removi \`${Number(args[1]).toLocaleString()}\` yens na conta do usuário com o ID: \`${args[0]}\``)
    }
}
